

{{ form_start(form) }}
{{ form_widget(form) }}


{{ form_end(form) }}

{% block javascripts %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const instrumentTypeSelectionne = document.getElementById('eleve_typeinstrument');

            instrumentTypeSelectionne.addEventListener('change', function(e) {
                const formEle = instrumentTypeSelectionne.closest('form');

                fetch(formEle.action, {
                    method: formEle.method,
                    body: new FormData(formEle)
                })
                    .then(response => response.text())
                    .then(html => {
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(html, 'text/html');
                        const CoursListeDeroul = doc.getElementById('etudiant_form_ville');

                        CoursListeDeroul.addEventListener('change', function(e) {
                            e.target.classList.remove('is-invalid');
                        });

                        document.getElementById('etudiant_form_ville').replaceWith(CoursListeDeroul);
                    })
                    .catch(function (err) {
                        console.warn('Oups, ya un probl√®me', err);
                    });
            });
        });
    </script>
{% endblock %}